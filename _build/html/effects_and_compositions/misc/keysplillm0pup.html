<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Key Spill Mop Up &mdash; Kdenlive Manual 21.12 documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> Kdenlive Manual
            <img src="../../_static/logo-light.svg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../user_interface.html">User interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../importing_and_assets_management.html">Importing and assets management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cutting_and_assembling.html">Cutting and assembling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../exporting.html">Exporting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../get_involved.html">Get involved</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Kdenlive Manual</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Key Spill Mop Up</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/effects_and_compositions/misc/keysplillm0pup.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="key-spill-mop-up">
<span id="keysplillm0pup"></span><h1><a class="toc-backref" href="#id2">Key Spill Mop Up</a><a class="headerlink" href="#key-spill-mop-up" title="Permalink to this headline">¶</a></h1>
<div class="contents topic" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#key-spill-mop-up" id="id2">Key Spill Mop Up</a></p>
<ul>
<li><p><a class="reference internal" href="#tutorial" id="id3">Tutorial</a></p></li>
<li><p><a class="reference internal" href="#details" id="id4">Details</a></p></li>
</ul>
</li>
</ul>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This page is outdated. You may find the new one <a class="reference external" href="https://userbase.kde.org/Kdenlive/Manual/Effects/Alpha_manipulation/Key_Spill_Mop_Up">here</a></p>
</div>
<ul class="simple">
<li><p><em>This page is outdated. You may find the new one `here &lt;https://userbase.kde.org/Kdenlive/Manual/Effects/Alpha_manipulation/Key_Spill_Mop_Up&gt;`_.*</em></p></li>
</ul>
<p>This effect is used when using chroma keying (otherwise known as greenscreen or <a class="reference internal" href="../alpha_manipulation/blue_screen.html#blue-screen"><span class="std std-ref">Chroma Key</span></a> effect). Its purpose is to compensate for the fact that sometimes the color from the green or blue screen reflects onto the subject and will make them a shade of blue or green - especially around the edges.  This is known as “keyspill”.  This effect can attempt to compensate for this issue.</p>
<p>This effect may not be installed in version 0.9.2 of <strong>Kdenlive</strong>. It can be installed from <a class="reference external" href="https://launchpad.net/~sunab/+archive/kdenlive-svn">sunab ppa</a> or you can compile it yourself following instructions at post 10 in  <a class="reference external" href="http://www.kdenlive.org/forum/greenscreen-keying-edge">this</a> thread.</p>
<p>The effect may be found in the  <a class="reference internal" href="../misc.html#misc"><span class="std std-ref">Misc Effects</span></a>  group or in the <a class="reference internal" href="../alpha_manipulation.html#alpha-manipulation"><span class="std std-ref">Alpha manipulation</span></a> group (version &gt;= 0.9.3)</p>
<p>See <a class="reference external" href="http://www.kdenlive.org/forum/greenscreen-keying-edge">this</a> thread for the genesis of this effect.</p>
<section id="tutorial">
<h2><a class="toc-backref" href="#id3">Tutorial</a><a class="headerlink" href="#tutorial" title="Permalink to this headline">¶</a></h2>
<p>This tutorial shows usage of the following effects: keysplillm0pup,  blue screen, alpha operations - shrinkhard and denoiser</p>
<p><a class="reference external" href="https://youtu.be/l43Hz7YEcYU">https://youtu.be/l43Hz7YEcYU</a></p>
</section>
<section id="details">
<h2><a class="toc-backref" href="#id4">Details</a><a class="headerlink" href="#details" title="Permalink to this headline">¶</a></h2>
<p>The README for the keyspillm0pup is this:</p>
<p>DESCRIPTION</p>
<p>After some experimentation with chroma keying, it looked to me that there is no single method of key cleaning, that works in all situations, like keyspill on bright, keyspill on dark, etc. So I included several cleaning options, which can be used alone or in combination. In short, it offers three ways of pixel selection (masking), that can be combined with four types of color changing operations. The three selection / masking modes are based on:</p>
<ul class="simple">
<li><p>similarity to key color</p></li>
<li><p>transparency</p></li>
<li><p>closeness to the edge</p></li>
</ul>
<p>and the four things that can be done to the selected pixels are:</p>
<ul class="simple">
<li><p>move away from the key color (De-Key)</p></li>
<li><p>move towards an target color (Target)</p></li>
<li><p>desaturate</p></li>
<li><p>luma (brightness) adjust.</p></li>
</ul>
<p>MASKS</p>
<p>Color difference masks are based on the color of the image, and do not depend on the alpha from the preceding keying, except for ignoring the 100% transparent areas, to increase speed.</p>
<p>Transparency and Edge masks are based on the alpha channel from the preceding keying operation. Transparency masks will affect only the parts that are neither 100% opaque nor 100% transparent, based on the alpha values from the preceding keying operation. The effect will be proportional to the transparency.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If a “hard key” was used in the preceding keying, there will be no areas that T operations could affect. Edge maskss will affect only pixels close to the edge, with the effect diminishing away from the edge. The outer edge is the edge of the fully opaque part, where the alpha from the preceding keying is 1.0 (255).</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The edge masking algorithm is not yet what I would like it to be. I will have to look some more into this, and improve it, so consider it a “temporary solution” that will change in the future.</p>
</div>
<p>All masks can be further pruned with two parameters: an “hue gate”, which will limit the mask to hues close to the key hue, and an “saturation threshold”, which will limit the mask to areas with color saturation above a threshold.</p>
<p>CASCADING</p>
<p>This plugin can be cascaded, but it is not possible to get the same color based mask in the second instance, because the colors will be changed by the first instance. To enable two operations with the same mask, each plugin instance can do two operations. With transparency and edge masks, cascading is a bit easier. If the hue gate and saturation threshold are not used, transparency and edge masks can be exactly the same in cascaded plugins.</p>
<p>PARAMETERS:</p>
<p>Key color: This should be the same or similar to the key color used for the preceding keying operation.</p>
<p>Target color: This is only used when “Target” operation is used with one of the masks. The colors in the affected areas will be moved towards this color, according to the “Amount” parameter.</p>
<p>Mask type: Selects the type of mask that will determine where the color altering operations will occur.</p>
<p>Tolerance: For the color difference mask, the range of colors around the key, that will be 100% affected. For the transparency mask, the “amplification”. For the edge mask, the width of the affected area.</p>
<p>Slope: For the color difference mask, the range of colors outside of “Tolerance”, that will be gradually less affected. No function for the transparency and edge masks.</p>
<p>Hue gate: Reduces the mask according to difference from key hue, to prevent change to pixels that are within the mask, but not polluted by key.</p>
<p>Saturation threshold: Reduces the mask according to color saturation, to avoid affecting the neutral areas.</p>
<p>Operation 1: Selects which of the four possible operations will be done on the mask-selected pixels. Apart from no operation, there are four possibilities: De-key, Target, De-saturate and Luma adjust.</p>
<p>Amount 1: The amount of the selected operation 1, how much the colors will change.</p>
<p>Operation 2, Amount 2: Enable a second operation to be performed with the same mask.</p>
<p>Show mask: This will show the selected mask as a greyscale image, to help with fine tuning of the masks. Should be OFF for the final render.</p>
<p>Mask to Alpha: Copies the active mask to the alpha channel. For all normal spill cleaning operations, this should be OFF. By setting it ON, the keyspillm0pup itself can be used as a keyer, or to generate some special effects.</p>
</section>
</section>


           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
            &copy; Copyright licensed under the  <a href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons License SA 4.0</a> unless stated otherwise.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org/">Read the Docs</a>.<br/>
  <a href="https://kdenlive.org" title="Kdenlive official website.">Kdenlive official website</a> |
  <a href="https://invent.kde.org/documentation/docs-kdenlive-org/" title="The Gitlab instance to edit this pages and collaborate.">Git repository for docs.kdenlive.org </a> |
  <a href="https://www.kde.org/community/whatiskde/impressum-en.php" title="To know more about KDE, code of conduct, privacy policy and GDPR.">KDE Impressum</a>.
   

</footer>

        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>