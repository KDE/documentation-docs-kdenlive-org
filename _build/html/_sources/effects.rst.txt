.. metadata-placeholder

   :authors: - Annew (https://userbase.kde.org/User:Annew)
             - Claus Christensen
             - Yuri Chornoivan
             - Ttguy (https://userbase.kde.org/User:Ttguy)
             - Vincent Pinon <vpinon@kde.org>
             - Bushuev (https://userbase.kde.org/User:Bushuev)
             - Jack (https://userbase.kde.org/User:Jack)
             - Roger (https://userbase.kde.org/User:Roger)
             - Eugen Mohr
             - Smolyaninov (https://userbase.kde.org/User:Smolyaninov)
             - Julius Künzel <jk.kdedev@smartlab.uber.space

   :license: Creative Commons License SA 4.0

.. _effects:


Effects
=======

.. contents::

Effects in **Kdenlive** can be used to modify the audio and video properties of the source material.

You add effects to clips by choosing them from the **Effects Tab** and dragging them onto a clip in the timeline. Or by selecting a clip in the timeline and choosing :menuselection:`Add Effect` from the :ref:`timeline_menu` or :menuselection:`Add Effect` from Clip in Timeline :ref:`right_click_menu` menu . For more detail see :ref:`quickstart`


The effects that are in play on a given clip can be viewed and edited via the Properties Tab that displays when the clip in question is selected in the timeline.

You can also apply effects to an entire track. This is achieved by dragging an effect from the **Effect Tab** to the **Track Header**.  Or you can click on the track header and chose :menuselection:`Add Effect` from the :ref:`timeline_menu`. Tracks which have effects added in this fashion will have a gold star icon in the track header.


.. image:: /images/Kdenlive_Effect_on_whole_track.png
  :align: left
  :alt: Figure 1a. Track header showing star icon indicating an effect has been added to this track.


Effects Tab
-----------

Make the Effects Tab visible from the :menuselection:`View` menu (:menuselection:`View --> Effects`)


.. image:: /images/Kdenlive_Effects_tab_17_04.png
  :align: left
  :width: 520px
  :alt: Figure 1b - effects tab. The Information icon (6) has been toggled so that the tab displays a brief description of the selected effect at the bottom


The effects tab has 5 different icons that cause the application to show and hide different categories of effects. 


By default the effects tab displays the "Main Effects" (Icon 1 selected). These are the Audio Correction, Alpha/Transform, Analysis and data, Colour and the Image adjustment categories.


Icon 2 makes it display all the video effects categories (This option hides the Audio Correction category that is in the "Main Effects" and adds the Misc and Motion categories). 


Icon 3 makes it display all the Audio effects categories


Icon 4 is Custom effects


Icon 5 is Favorite Effects. This is the same list that appears in the "Insert an Effect ..." context sensitive menu obtained on a clip in the timeline. An effect gets in this list by choosing *Add to Favorites* from the context sensitive menu on each of the effects.

Icon 6 toggles the information display which - when on - shows a description of what the effect does.

If you find that you are missing some effects or effects categories that you know and love it is probably because you need to choose to display the hidden effects by choosing an Icon other that Icon 1 - "Main Effects"

To add an effect to a clip, simply drag it from the **Effects Tab** to the clip on the :ref:`timeline`.


The Properties Tab and its Menu
-------------------------------

The Properties Tab
~~~~~~~~~~~~~~~~~~

The Properties Tab displays the settings for the effects on the currently selected clip (Figure 3) or the settings for  the currently selected transition (Figure 4)  depending on whether it is a clip or a transition that is currently selected.


.. image:: /images/Kdenlive_selection_param1.png
  :align: left
  :width: 527px
  :alt: Figure 3 - Properties when a clip with effects is selected


.. image:: /images/Kdenlive_selection_param2.png
  :align: left
  :width: 527px
  :alt: Figure 4 - Properties when a transition is selected

Click the eye icon shown at 2 to temporarily disable the effect and toggle the button to the state shown at 1. 
Click the empty eye icon shown at 1 to re-enable a disabled effect and toggle the button to the state shown at 2.

.. image:: /images/Toggle_effect_on_and_off.png


To remove an effect from a clip, click the trash can icon labelled 3 in the image below. The arrow labelled 1 minimizes the effect in the Properties Window. And the icon labelled 2 brings up the Properties Tab menu shown. 

.. image:: /images/Kdenlive_Effect_stack_icons2_17.04.png


Reset Effect
~~~~~~~~~~~~

This reverts all the settings in the effect back to their default values.


Save Effect
~~~~~~~~~~~

This allows you to save the current effect and all its settings. The saved effect will appear in the Effect List in the Custom category.


Create Group
~~~~~~~~~~~~

This creates an Effect Group. An Effect Group is a place holder for multiple effects. You can then save the group of effects – they will the appear in the Effect List, in the Custom Section.  You can then later apply the whole group of effects to other parts of the timeline.

To add effects to the group, first add the effect in question to a clip. Then drag that effect and drop it onto the Effect Group in  the Properties Tab.


Create Region
~~~~~~~~~~~~~

.. versionadded:: 0.9.3

The "Create Region" feature enables a user to apply an effect to a part of a clip only. It is a really powerful feature but currently the UI is not fully ready to get its full potential.


Basically, you add an effect to a clip – for example "Sepia" – then you go in the effect's menu and select "Create Region". This will now open a file dialog.


In that dialog, you need to point to an MLT clip with alpha transparency. This is where Kdenlive is not 100% ready because there are many ways we could create such clips, using for example a threshold filter or rotoscoping. But as a start, let's say you can open any image with alpha transparency, or a title clip created with Kdenlive. Then, the "sepia" effect will only be applied on the non-transparent areas of this "region" clip.


Keyframes in effects
--------------------

Many effects use the concept of "Keyframes". Keyframes are user-defined points in your clip where you want an effect to start, stop or change.  You can set the parameters for your effects to different values at different keyframes and **Kdenlive** will then gradually change the parameters between the two keyframes so that by the time the video has arrived at the next keyframe it will have adjusted the parameter to match that key frame. It interpolates between keyframes.


See :ref:`quickstart` for an example on keyframing the RGB adjustment effect.


.. versionadded:: 20.08.0
  
Effect panels get zoom bars. Adjusting keyframes just get easier.


VIDEO FILE Zoombar-effects.mp4 MISSING 
  


Working with keyframes in the effect stack
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
 
.. versionadded:: 21.04.0
  
The effect’s keyframe panel has new icons, improved keyframe grabbing and new functions like:


VIDEO FILE move-kf-to-cursor.mp4 MISSING 

# Select the keyframe you want to move
# Move the cursor to the position where you want to move the keyframe to

* Click on :menuselection:`Move selected keyframe to cursor position`


VIDEO FILE duplicate-keyframe.mp4 MISSING 

# Select the keyframe you want to duplicate
# Move the cursor to the position where you want to insert the new keyframe

* Click on :menuselection:`Duplicate selected keyframe`


VIDEO FILE apply-value-to-selected-kf.mp4 MISSING 

# Select all keyframes you want to apply the value on
# Go to one of the selected keyframes and change the value(s) as you want
# Click on :menuselection:`Apply values to selected keyframes`

* Select the parameters you want to apply and click on :menuselection:`OK`


VIDEO FILE kf-ctrl-select.mp4 MISSING 


VIDEO FILE kf-rubber-select.mp4 MISSING 


VIDEO FILE multiple-kf-move.mp4 MISSING 


Exchange keyframes across effects
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

You can import and export keyframes from/to the clipboard. This feature is not only useful to copy keyframes from one clip to another, it can e.g. also be used to copy the results of the motion tracker to a transform effect.


To export the keyframes the clipboard click on |application-menu| inside the keyframe widget and choose :menuselection:`Copy keyframes to clipboard`


.. image:: /images/Kdenlive_import_keyframes_dialog.png
  :align: left
  :alt: Import keyframes dialog


To import keyframes from the clipboard click on |application-menu| inside the keyframe widget and choose :menuselection:`Import keyframes from clipboard`. If you have valid data on your clipboard you should see a dialog similar to the screenshot where you can adjust the mapping of the data.


Effect Zones
------------

.. versionadded:: 21.04.0
  
The new Effect Zones allow you to apply effects to specific regions of tracks or the timeline. Zones can be set from the effect zone bar in the timeline or from the interface in the effect panel.


**Track Effect Zone**


VIDEO FILE track-effect-zone.mp4 MISSING 
  


**Master Effect Zone**


VIDEO FILE timeline-effect-zone.mp4 MISSING 
  


Seek To Active Frame
--------------------

Some keyframe controls have a *seek to active frame* button 

.. image:: /images/kdenlive_Seek_to_Active_frame_button.png

(labeled 1 in screenshot A below). When *seek to active frame* is toggled on and you click on one of the keyframes in the keyframe list,  Kdenlive will scroll the preview window to that keyframe. In the example of the screenshot, we have selected the keyframe at 9:20 in A and the clip position caret (highlighted in red box) shows the location of this keyframe. Clicking the keyframe at 10:00 in B shows how the clip position has moved.

.. image:: /images/Kdenlive_Seek_to_active_frame.png


Effects Demos
-------------

The following three YouTube videos display the results of a number of the video effects available in **Kdenlive** (Spanish captioning).


https://youtu.be/C6oeu2Yc64I


https://youtu.be/jrC4F_G64jA


https://youtu.be/XMoSgHHbA4k


Another YouTube video  (English Captions).


https://youtu.be/capV7lUzbOw


See also this YouTube play list from `Franz M.P. <http://www.youtube.com/playlist?list=PLc1VErdvjnSFE6w6sryFWIu4lfKavhnvz>`_


Effects Categories
------------------

See also :ref:`effects_and_transitions` for an alphabetical list of effects and transitions.


The effects are divided into the following categories:


* :ref:`alpha_manipulation`


* :ref:`analysis_and_data`


* :ref:`artistic`


* :ref:`audio`


* :ref:`audio_channels`


* :ref:`audio_correction`


* :ref:`blur_and_hide`


* :ref:`colour`


* :ref:`colour_correction`


* :ref:`crop_and_transform`


* :ref:`custom`


* :ref:`distort`


* :ref:`enhancement`


* :ref:`fade`


* :ref:`misc`


* :ref:`motion`


The available effects are defined by :file:`.xml` files found in :file:`$KDEDIR/share/kde4/apps/kdenlive/effects` (e.g. :file:`/usr/share/kde4/apps/kdenlive/effects`). 

Or at :file:`/usr/share/kdenlive/effects` on version 15.n.


These .xml files contain the default values for the effects parameters. So if you don't like the default values for the effects in Kdenlive, you can modify the defaults by editing these .xml files.


FAQ
---
 
Q: How to duplicate an effect to use similar settings somewhere else?

A: Select your effect in the timeline. In the Properties Tab choose :menuselection:`Save` (from the :ref:`effects`). You will now find this effect available in the **Effect List** :menuselection:`Custom` section.

A: Other solution: select a strip containing the effect, :menuselection:`Copy`, then, where you want to apply it again, right-click and select :menuselection:`Paste effect` instead of :menuselection:`Paste`.


Q: How to apply an effect on several clips (all) at the same time?

A: You can select multiple clips with :kbd:`Shift + drag` (left mouse button) around them. Then right-click and group clips (or :kbd:`Ctrl + G`).


.. toctree::
   :caption: Contents:

   effects/alpha_manipulation
   effects/audio
   effects/audio_correction
   effects/audio_channels
   effects/blur_and_hide
   effects/colour
   effects/colour_correction
   effects/crop_and_transform
   effects/custom
   effects/distort
   effects/enhancement
   effects/fade
   effects/fun
   effects/misc
   effects/motion
   effects/analysis_and_data
